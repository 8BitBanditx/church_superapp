{% extends 'base.html' %}

{% block content %}
<h2>Church Events Calendar</h2>
<div id='calendar'></div>

<!-- FullCalendar CSS/JS from CDN -->
<link href='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.10/index.global.min.css' rel='stylesheet' />
<script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.10/index.global.min.js'></script>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    var calendarEl = document.getElementById('calendar');
    var calendar = new FullCalendar.Calendar(calendarEl, {
      initialView: 'dayGridMonth',
      events: '/events/events.json',  // <-- matches your url pattern!
      eventClick: function(info) {
        alert(
          info.event.title + '\n' +
          info.event.start.toLocaleString() + ' - ' +
          info.event.end.toLocaleString() + '\n\n' +
          (info.event.extendedProps.description || '') +
          (info.event.extendedProps.location ? '\nLocation: ' + info.event.extendedProps.location : '')
        );
      }
    });
    calendar.render();
  });
</script>
<style>
  #calendar {
    max-width: 900px;
    margin: 30px auto;
    background: #fff;
    border-radius: 8px;
    box-shadow: 0 2px 8px #eee;
    padding: 10px;
  }
</style>
{% endblock %}
